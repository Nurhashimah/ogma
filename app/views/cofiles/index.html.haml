- model_class = Cofile
.page-header
  %h1= t('cofile.index')#, :default => model_class.model_name.human.pluralize
  
.navbar.navbar-inverse{role: "navigation", style: "padding-right:40px;"}
  %ul.nav.navbar-nav
    %li= link_to content_tag(:li, fa_icon("asterisk", text: (t 'actions.new'))), new_cofile_path
  %ul.nav.navbar-nav.navbar-right
    %li.toga= link_to content_tag(:li, fa_icon("search", text: (t 'actions.search'))), "#", class: "index_search_bar"
    %li= link_to fa_icon("print", text: (t 'actions.print')), cofile_list_cofiles_path(params.merge(format: 'pdf'))

.row
  %table.table-striped.table-hover.ogma
    %thead
      %tr
        %th{style: "width:16%;"}= sort_link(@search, :cofileno, (t 'cofile.cofileno'))
        %th{style: "width:26%;"}= sort_link(@search, :name, (t 'cofile.name'))
        %th{style: "width:12%;"}= sort_link(@search, :location, (t 'cofile.location'))
        %th{style: "width:18%;"}= sort_link(@search, :owner, (t 'cofile.owner'))
        %th{style: "width:18%;"}= sort_link(@search, :onloan_to, (t 'cofile.onloan_to'))
        %th{style: "width:10%;"}= sort_link(@search, :onloandt,(t 'cofile.onloandt'))		

    %tbody
    = render "index_search"
    - @cofiles.each do |cofile|
      %tr
        %td= link_to cofile.cofileno, cofile_path(cofile)
        %td= cofile.name
        %td= cofile.location
        %td= cofile.college.code=='amsas' ? cofile.try(:owner).try(:staff_with_rank) : cofile.try(:owner).try(:mykad_with_staff_name)
        %td= cofile.college.code=='amsas' ? cofile.try(:borrower).try(:staff_with_rank) : cofile.try(:borrower).try(:mykad_with_staff_name)
        %td= cofile.onloandt.try(:strftime, '%d-%m-%Y')

  .right{style:"padding:0 30px; margin:0;"}= paginate @cofiles, :theme => 'twitter-bootstrap-3'