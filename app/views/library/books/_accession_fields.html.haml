%fieldset
  /for checking - unremark to display this text outside of row
  .row
    .col-sm-2.col-md-offset-2
      /= f.text_field :_destroy
      = f.hidden_field :_destroy
      = f.text_field :accession_no, :class => 'form-control'
    .col-sm-2=f.text_field :order_no, :class => 'form-control'

    /.col-sm-2=f.select :received_by, DropDown::STATUS, {:include_blank => t('actions.select')}, {:class => 'selectpicker form-control'}
    - if current_user.college.code=='amsas'
      - book_status=Book::STATUS_AMSAS
    - else
      - book_status=Book::STATUS
    .col-sm-2=f.select :status, book_status, {:include_blank => t('actions.select')}, {:class => 'selectpicker form-control'}

    .col-sm-1.col-md-offset-3
      /1st working one
      /= link_to content_tag(:i, "", class: "fa fa-trash-o"), "#", class: "removing_fields"
      
      /below - also works
      /= link_to "Remove", "#", class: "removing_fields"
      
      /=f.object._destroy
      /=f.object.marked_for_destruction?
      
      - if f.object._destroy==true && [2,3,4].include?(f.object.status) 
        = link_to content_tag(:i, "", class: "fa fa-arrow-left"), "#", class: "reset_field"
        .removal{style: 'display: none;'}= link_to content_tag(:i, "", class: "fa fa-trash-o"), "#", class: "removing_fields"
      - else
        = link_to content_tag(:i, "", class: "fa fa-trash-o"), "#", class: "removing_fields"

:javascript
  $('.removing_fields').click(function(){
    var row=$(this).parent().parent().parent();
    var all_fields=row.children().children().children();
    var destroyer=all_fields[0];
    destroyer.value=true;    
    row.hide();
  });
  
  $('.reset_field').click(function(){
    var row=$(this).parent().parent().parent();
    var all_fields=row.children().children().children();
    var destroyer=all_fields[0];
    destroyer.value=false;    
    /*alert(destroyer.value);*/
    var removal_div=$('.removal');
    removal_div.show();
    $(this).hide();
  });

/   $('.removing_fields').click(function(){
/     var row=$(this).parent().parent();
/     var all_fields=row.children().children();
/     var destroyer=all_fields[0];
/     destroyer.value=true;
/     alert(destroyer.value);
/     row.hide();
/   });