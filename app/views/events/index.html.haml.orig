- model_class = Event
.page-header
  %h1= t('events.list')#, :default => model_class.model_name.human.pluralize
  
.navbar.navbar-inverse{role: "navigation", style: "padding-right:40px;"}
  %ul.nav.navbar-nav
    %li= link_to content_tag(:li, fa_icon("asterisk", text: (t 'new'))), new_event_path
    %li= link_to content_tag(:li, fa_icon("info-circle", text: (t 'events.check.status'))), "#"
  %ul.nav.navbar-nav.navbar-right
    %li.toga= link_to content_tag(:li, fa_icon("search", text: (t 'events.search'))), "#", class: "toga"
    %li= link_to content_tag(:li, fa_icon("print", text: (t 'events.print'))), "#"

.right.filter{style: "display:none;"}
  = form_tag events_path, :method => 'get' do
    = text_field_tag :search, params[:search], :placeholder => "Event Name, Location"
    = submit_tag "Search", :eventname => nil
   
.row
  %table.table-striped.table-hover.ogma
    %thead
      %tr
        %th= t('events.sd')
        %th= t('events.ed')
        %th= t('events.en')
        %th= t('events.loca')
        %th= t('events.ob')
        %th= t('events.cb')
        %th.ac{colspan: "3"}= t('events.cnt')
        %th.action= fa_icon "cogs"

    %tbody 
    - @events.each do |event|
      %tr
        %td= h event.start_at.strftime(" %d %b %y, %a, %I:%M%p  ") unless event.start_at.nil?
        %td= h event.end_at.strftime(" %d %b %y, %a, %I:%M%p  ") unless event.end_at.nil?
        %td= h event.eventname
        %td= h event.location
        %td= h event.officiated
        %td= h event.staff.blank? ? "-" : event.staff.name
        %td{:width => "10px"}= link_to fa_icon("eye", :border => 0), :action => 'show', :id => event
        %td{:width => "10px"}= link_to fa_icon("edit", :border => 0), :action => 'edit', :id => event
        %td{:width => "10px"}= link_to fa_icon("trash-o", :border => 0, :title => 'Delete'), event, :confirm => 'Are you sure?', :method => :delete
%BR


//Heres the code in erb, change it to haml. refer /app/views/library/transactions/index.html.haml for new layout design.

<<<<<<< HEAD
- model_class = Event
.page-header
  %h1= t('events.list')#, :default => model_class.model_name.human.pluralize
  
.navbar.navbar-inverse{role: "navigation", style: "padding-right:40px;"}
  %ul.nav.navbar-nav
    %li= link_to content_tag(:li, fa_icon("asterisk", text: (t 'actions.new'))), '#'
  %ul.nav.navbar-nav.navbar-right
    %li.toga= link_to content_tag(:li, fa_icon("search", text: (t 'actions.search'))), "#", class: "toga"
    %li= link_to content_tag(:li, fa_icon("print", text: (t 'actions.print'))), "#"

.row
  %table.table-striped.table-hover.ogma
    %thead
      %tr 
        %th= sort_link(@search, :start_at_gteq,(t 'events.sd'))
        %th= sort_link(@search, :end_at_lteq,(t 'events.ed'))
        %th= sort_link(@search, :eventname,(t 'events.en'))
        %th= sort_link(@search, :location,(t 'events.loca'))
        %th= sort_link(@search, :officiated,(t 'events.ob'))
        %th{style: "width:33%;"}= sort_link(@search, :staff_name,(t 'events.cb'))
        %th.ac{colspan: "3"}= t('events.cnt')
    %tbody 
      = render "index_search"
      - @events.each do |event|
        %tr
          %td= h event.start_at.strftime(" %d %b %y, %a, %I:%M%p  ") unless event.start_at.nil?
          %td= h to event.end_at.try(:strftime, "%d %b %y, %a, %I:%M%p  ")
          %td= h event.eventname
          %td= h event.location
          %td= h event.officiated
          %td= h event.staff.blank? ? "-" : event.staff.name
          %td{:width => "10px"}= link_to fa_icon("eye", :border => 0), :action => 'show', :id => event
          %td{:width => "10px"}= link_to fa_icon("edit", :border => 0), :action => 'edit', :id => event
          %td{:width => "10px"}= link_to fa_icon("trash-o", :border => 0, :title => 'Delete'), event, :confirm => 'Are you sure?', :method => :delete
		  
  .right{style:"padding:0 30px; margin:0;"}= paginate @events, :theme => 'twitter-bootstrap-3'
	
=======
//:erb
//  <!-- Box -->
//  <div class="box"> 
//  	<!-- Box Head -->
//  	<div class="box-head">
//  		<h2 class="left">Event List</h2>
//  		<div class="right">
//  			<% form_tag events_path, :method => 'get' do %>
//  			<%= text_field_tag :search, params[:search], :placeholder => "Event Name, Location" %>
//  			<%= submit_tag "Search", :eventname => nil %>
//  			<% end %>
//  		</div>
//    </div>
//  </div>

//  <div class="tlist">
//  	<%= link_to image_tag("calendar_view_month.png", :border => 0), '#' %> #{:controller => 'events', :action => 'calendar'} %>
//  	<table width=100% border="0" cellpadding="0" cellspacing="0">
//  	  <tr>
//      	<th><a href="?sort_by=evenstdt">Start Date</a></th>
//  	    <th>End Date</th>
//  	    <th>Event Name</th>
//  	    <th>Location</th>
//  	    <th>Officiated By</th>
//  	    <th>Created By</th>
// 	    <th colspan=3 class="ac">Control</th>
//  	  </tr>

//  		<% @events.each do |event| %>
//  	  <tr>
//  	    <td><%=h event.start_at.strftime(" %d %b %y, %a, %I:%M%p  ") unless event.start_at.nil? %></td>
//  	    <td><%=h event.end_at.strftime(" %d %b %y, %a, %I:%M%p  ") unless event.end_at.nil? %></td>
//  	    <td><%=h event.eventname %></td>
//  	    <td><%=h event.location %></td>
//  	    <td><%=h event.officiated %></td>
//  	    <td><%=h event.staff.blank? ? "-" : event.staff.name %></td>
//  			<td width=10px ><%= link_to image_tag("document.png", :border => 0), :action => 'show', :id => event %></td>
//  			<td width=10px ><%= link_to image_tag("edit.png", :border => 0), :action => 'edit', :id => event %></td>
//  			<td width=10px><%= link_to image_tag("delete.png", :border => 0, :title => 'Delete'), event, :confirm => 'Are you sure?', :method => :delete %></td>
//  		</tr>
//  		<% end %>
//  	</table>
//  </div>
//  <BR>

//  <%= link_to 'New Event', new_event_path %>
>>>>>>> b8b616ffeaf4f0ac42bd30b8bd485d86eaeb3510
