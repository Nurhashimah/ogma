- model_class = Asset
.page-header
  %h1= @asset.assetcode

= render 'shared/flashes'

%ul.nav.nav-tabs
  %li.active= link_to (t "asset.details"), "#details",     "data-toggle" => "tab"
  %li= link_to (t "asset.description"),    "#description", "data-toggle" => "tab"
  %li= link_to (t "asset.purchase"),       "#purchase",    "data-toggle" => "tab"
  %li= link_to (t "asset.placement"),      "#placement",   "data-toggle" => "tab"
  - if @asset.is_maintainable?
    %li= link_to (t "asset.maintenance"),    "#maintenance", "data-toggle" => "tab"
  
.tab-content.col-md-offset-1
  %dl.dl-horizontal
    %dt= t 'asset.assetcode'
    %dd= @asset.assetcode
  #details.tab-pane.fade.in.active
    %dl.dl-horizontal
      %dt= t 'asset.category'
      %dd=# @asset.category.try(:description)
      %dt= t 'asset.subcategory'
      %dd= @asset.subcategory
      %dt= t 'asset.typename'
      %dd= @asset.typename
      %dt= t 'asset.bookable'
      %dd= @asset.bookable? ? (t "bookable_text") : (t 'no')
      %dt= t 'asset.maintainable'
      %dd= @asset.is_maintainable? ? (t "asset.maintainable_text") : (t 'no')
        
  #description.tab-pane.fade
    %dl.dl-horizontal
      %dt= t 'asset.name'
      %dd= @asset.name
      %dt= t 'asset.manufacturer' 
      %dd= @asset.manufacturer_id
      %dt= t 'asset.country_id'
      %dd= @asset.country_id
      %dt= t 'asset.model' 
      %dd= @asset.modelname
      %dt= t 'asset.serial_no'
      %dd= @asset.serialno
      %dt= t 'asset.located_at'
      %dd= @asset.try(:locations).try(:code)
      %dt= t 'asset.assigned_to'
      %dd= @asset.try(:staffs).try(:name)
      %dt= t 'asset.status'
      %dd= @asset.status
      %dt= t 'asset.other_information'
      %dd= @asset.otherinfo
  
  #purchase.tab-pane.fade
    %dl.dl-horizontal
      %dt= t 'asset.orderno'
      %dd= @asset.orderno
      %dt= t 'asset.purchaseprice'
      %dd= @asset.purchaseprice
      %dt= t 'asset.purchasedate'
      %dd= @asset.purchasedate
      %dt= t 'asset.receiveddate'
      %dd= @asset.receiveddate
      %dt= t 'asset.receivedby'
      %dd= @asset.receiver_id
      %dt= t 'asset.suppliedby'
      %dd= @asset.supplier_id
	  
  #placement.tab-pane.fade
    %table.table.table-condensed.table-hover{:style => "width: 50%; "}
      %thead
        %tr
          %th= t 'asset.located_at'
          %th= t 'asset.assigned_to'
          %th= t 'asset.date'
      %tbody
        - for asset_placement in @asset.asset_placements
          %tr
            %td= check_kin {asset_placement.location_id} 
            %td= asset_placement.staff_id
            %td= asset_placement.reg_on


  - if @asset.is_maintainable?
    #maintenance.tab-pane.fade
      Maintenance
      
.row
  .col-md-4.col-md-offset-2
    %hr
    .form-actions
      = link_to content_tag(:i, "", :class => "fa fa-arrow-left ") + " " + t('.back', :default => t("helpers.links.back")), asset_assets_path, :class => 'btn btn-default'
      = link_to content_tag(:i, "", :class => "fa fa-edit") + " " + t('.edit', :default => t("helpers.links.edit")), edit_asset_asset_path(@asset), :class => 'btn btn-primary'
      = render :partial => 'action_menu', :locals => { :asset_assets => :asset_assets }
      = link_to content_tag(:i, "", :class => "fa fa-trash-o icon-white") + " " + t('.destroy', :default => t("helpers.links.destroy")), |
        asset_asset_path(@asset),                                                                                                    |
        :method => 'delete',                                                                                                           |
        :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },                   |
        :class => 'btn btn-danger'