- model_class = AssetDefect
.page-header
  %h1
    = t 'edit'
    = @defective.asset.assetcode

.row
  = form_for @defective,  html: { multipart: true, class: 'form-horizontal' }  do |f| 
    = render 'shared/error_messages', object: f.object

    %ul.nav.nav-tabs
      %li.active= link_to (t "asset.details"), "#details",   "data-toggle" => "tab"
      %li= link_to (t "asset.defect.process"),      "#process", "data-toggle" => "tab"
      %li= link_to (t "asset.defect.decision"),     "#decision","data-toggle" => "tab"
      /%li= link_to (t "asset.placement"),     "#placement","data-toggle" => "tab"

    .tab-content.col-md-offset-1
      %dl.dl-horizontal
        %dt= t 'asset.assetcode'
        %dd= @defective.asset.assetcode

		    	  
      #details.tab-pane.fade.in.active
        %dl.dl-horizontal
          %dt= t 'asset.category.type_model_name'
          %dd= "#{@defective.asset.typename} : #{@defective.asset.name} : #{@defective.asset.modelname}" 
          %dt= t 'asset.serialno'
          %dd= @defective.asset.serialno
		  
        .form-group
          .col-sm-2.control-label
            = f.label t 'asset.defect.description', for: :description
          .col-md-4
            = f.text_field :description, class: 'form-control'
			
        .form-group
          .col-sm-2.control-label
            = f.label t 'asset.defect.reported_by', for: :reporter
          .col-md-4
            = f.collection_select :reporter, Staff.all.order(name: :asc), :id, :name, {:include_blank =>t('helpers.prompt.select_staff')},{class: 'selectpicker', "data-width"=>'230px'} 

      #process.tab-pane.fade.in.active
        .form-group
          .col-sm-2.control-label
            = f.label t 'asset.defect.action_type', for: :process_type
          .col-md-4
            = f.text_field :process_type, class: 'form-control'
			
        .form-group
          .col-sm-2.control-label
            = f.label t 'asset.defect.recommendation', for: :recommendation
          .col-md-4
            = f.text_field :recommendation, class: 'form-control'
			
        .form-group
          .col-sm-2.control-label
            = f.label t 'asset.defect.recommendation_submitted', for: :description
          .col-md-4
            = f.text_field :description, class: 'form-control'
			
        .form-group
          .col-sm-2.control-label
            = f.label t 'asset.defect.reported_by', for: :is_processed
          .col-md-4
            = f.check_box :is_processed, class: 'form-control'
			
        .form-group
          .col-sm-2.control-label
            = f.label t 'asset.defect.reported_by', for: :is_processed
          .col-md-4
            = f.collection_select :processor, Staff.all.order(name: :asc), :id, :name, {:include_blank =>t('helpers.prompt.select_staff')},{class: 'selectpicker', "data-width"=>'230px'} 
			
        .form-group
          .col-sm-2.control-label
            = f.label t 'asset.defect.reported_by', for: :is_processed
          .col-md-4
            = f.text_field :processed_on, class: 'form-control'
			
      #decision.tab-pane.fade.in.active
        .form-group
          .col-sm-2.control-label
            = f.label t 'asset.defect.approval', for: :decision
          .col-md-4
            = f.check_box :decision, class: 'form-control'
			
						
      .col-md-offset-1
        //= render :partial => 'form', :locals => {:f => f}
        .form-group
          .col-sm-offset-4.col-sm-1
            = link_to content_tag(:i, "", :class => "fa fa-arrow-left ") + " " + t('.back', :default => t("helpers.links.back")), asset_defects_path(@defective), :class => 'btn btn-default'
          .col-sm-2
            = f.submit t('update'), class: "btn btn-primary" 
