- model_class = Weeklytimetable
- if @weeklytimetable.college.code=='amsas'
  - day_display = TimetablePeriod::DAY_CHOICE2
- else
  - day_display = TimetablePeriod::DAY_CHOICE

.col-md-8.col-md-offset-1
  %dl.dl-horizontal
    %dt= t 'training.weeklytimetable.format1' , :default => model_class.human_attribute_name(:format1) + ":"
    %dd
      /=current_user.college.name.include?("AMSAS") == true ? @weeklytimetable.timetable_monthurs.name : @weeklytimetable.timetable_monthurs.name.gsub("BK-LAT-URK-01-01", "")
      - if current_user.college.name.include?("AMSAS") == false
        - if @weeklytimetable.timetable_monthurs.name.include?("BK-LAT-URK-01-01")
          = @weeklytimetable.timetable_monthurs.name.gsub("BK-LAT-URK-01-01", "") 
        - if @weeklytimetable.timetable_monthurs.name.include?("BK-LAT-RAN-01-01")
          = @weeklytimetable.timetable_monthurs.name.gsub("BK-LAT-RAN-01-01", "") 
      - else
        =@weeklytimetable.timetable_monthurs.name
      - @weeklytimetable.timetable_monthurs.timetable_periods.order(seq: :asc).in_groups_of(@count1, false) do |row_things|
        .showform
          %table#subtable
            %tr
              %td{:align => "center", :style=>"border-right:1px solid #FFFFFF;padding: 6px 6px 6px 6px;text-align:center;background: #E6E7E8;font-size:11px;font-weight: bold;"}= (day_display.find_all{|disp, value| value == (row_things.map(&:day_name)[0]) }).map {|disp, value| disp}[0]
              - for periods in row_things
                %td{:align => "center", :style=>"border-right:1px solid #FFFFFF;padding: 6px 6px 6px 6px;text-align:center;background: #E6E7E8;font-size:10px;"}
                  %b= periods.seq
                  %br= @weeklytimetable.college.code=='amsas' ? periods.timing_24hrs : periods.timing
                  %br
                    /= periods.is_break? ? "Break" : ""
                    - if @weeklytimetable.college.code=='amsas'
                      = periods.is_break? ? periods.render_no_class : ""
                    - else
                      = periods.is_break? ? (t 'training.timetable_period.is_break') : "" 

  %dl.dl-horizontal
    %dt= t 'training.weeklytimetable.format2' , :default => model_class.human_attribute_name(:format2) + ":"
    %dd
      /=current_user.college.name.include?("AMSAS") == true ? @weeklytimetable.timetable_friday.name : @weeklytimetable.timetable_friday.name.gsub("BK-LAT-URK-01-01", "")
      - if current_user.college.name.include?("AMSAS") == false
        - if @weeklytimetable.timetable_friday.name.include?("BK-LAT-URK-01-01")
          = @weeklytimetable.timetable_friday.name.gsub("BK-LAT-URK-01-01", "") 
        - if @weeklytimetable.timetable_friday.name.include?("BK-LAT-RAN-01-01")
          = @weeklytimetable.timetable_friday.name.gsub("BK-LAT-RAN-01-01", "") 
      - else
        =@weeklytimetable.timetable_friday.name
      - @weeklytimetable.timetable_friday.timetable_periods.order(seq: :asc).in_groups_of(@count2, false) do |row_things|
        .showform
          %table#subtable
            %tr
              %td{:align => "center", :style=>"border-right:1px solid #FFFFFF;padding: 6px 6px 6px 6px;text-align:center;background: #E6E7E8;font-size:11px;font-weight: bold;"}= (day_display.find_all{|disp, value| value == (row_things.map(&:day_name)[0]) }).map {|disp, value| disp}[0]
              - for periods in row_things
                %td{:align => "center", :style=>"border-right:1px solid #FFFFFF;padding: 6px 6px 6px 6px;text-align:center;background: #E6E7E8;font-size:10px;"}
                  %b= periods.seq
                  %br= @weeklytimetable.college.code=='amsas' ? periods.timing_24hrs : periods.timing
                  %br
                    /= periods.is_break? ? "Break" : ""
                    - if @weeklytimetable.college.code=='amsas'
                      = periods.is_break? ? periods.render_no_class : ""
                    - else
                      = periods.is_break? ? (t 'training.timetable_period.is_break') : "" 